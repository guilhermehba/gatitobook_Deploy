"use strict";(self.webpackChunkgatitobook=self.webpackChunkgatitobook||[]).push([[710],{4710:(w,d,s)=>{s.r(d),s.d(d,{HomeModule:()=>R});var C=s(4117),Z=s(2413),p=s(9808),l=s(6444),o=s(1223);let F=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-md-6","mb-2"],["src","../../assets/img/home.jpg","alt","Imagem de um gato na tela de boas vindas",1,"img-fluid","d-none","d-sm-block"],[1,"col-md-6","mb-2","align-itens-center"]],template:function(n,t){1&n&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"img",3),o.qZA(),o.TgZ(4,"div",4),o._UZ(5,"router-outlet"),o.qZA()()())},directives:[l.lC],styles:[""]}),e})();var f=s(2340),_=s(8505),g=s(520),T=s(620);const S=f.N.apiURL;let I=(()=>{class e{constructor(n,t){this.httpClient=n,this.usuarioService=t}autenticar(n,t){return this.httpClient.post(`${S}/user/login`,{userName:n,password:t},{observe:"response"}).pipe((0,_.b)(u=>{var i;const m=null!==(i=u.headers.get("x-access-token"))&&void 0!==i?i:"";this.usuarioService.salvaToken(m)}))}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(g.eN),o.LFG(T.i))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var a=s(2382),h=s(6341);function M(e,r){1&e&&o._UZ(0,"app-mensagem",12)}function A(e,r){1&e&&o._UZ(0,"app-mensagem",13)}const x=function(){return["novousuario"]};let J=(()=>{class e{constructor(n,t){this.authService=n,this.router=t,this.usuario="",this.senha=""}ngOnInit(){}login(){this.authService.autenticar(this.usuario,this.senha).subscribe(()=>{this.router.navigate(["animais"])},n=>{alert("Usuario ou Senha, Invalido!"),console.log(n)})}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(I),o.Y36(l.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-login"]],decls:18,vars:7,consts:[[1,"text-center"],[1,"form","mt-4",3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["placeholder","Nome do usu\xe1rio","type","text","name","usuario","id","userName","required","",1,"form-control",3,"ngModel","ngModelChange"],["campoUsuario","ngModel"],["mensagem","usu\xe1rio obrigat\xf3rio",4,"ngIf"],["placeholder","Senha do usu\xe1rio","type","password","name","senha","id","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["campoSenha","ngModel"],["mensagem","Senha obrigat\xf3ria",4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-block","col-12",3,"disabled"],[3,"routerLink"],["mensagem","usu\xe1rio obrigat\xf3rio"],["mensagem","Senha obrigat\xf3ria"]],template:function(n,t){if(1&n&&(o.TgZ(0,"h4",0),o._uU(1,"LOGIN"),o.qZA(),o.TgZ(2,"form",1,2),o.NdJ("ngSubmit",function(){return t.login()}),o.TgZ(4,"div",3)(5,"input",4,5),o.NdJ("ngModelChange",function(i){return t.usuario=i}),o.qZA(),o.YNc(7,M,1,0,"app-mensagem",6),o.qZA(),o.TgZ(8,"div",3)(9,"input",7,8),o.NdJ("ngModelChange",function(i){return t.senha=i}),o.qZA(),o.YNc(11,A,1,0,"app-mensagem",9),o.qZA(),o.TgZ(12,"button",10),o._uU(13,"Entrar"),o.qZA()(),o.TgZ(14,"p"),o._uU(15,"Novo Usu\xe1rio? "),o.TgZ(16,"a",11),o._uU(17,"Cadastre-se!"),o.qZA()()),2&n){const u=o.MAs(3),i=o.MAs(6),m=o.MAs(10);o.xp6(5),o.Q6J("ngModel",t.usuario),o.xp6(2),o.Q6J("ngIf",i.invalid&&i.touched),o.xp6(2),o.Q6J("ngModel",t.senha),o.xp6(2),o.Q6J("ngIf",m.invalid&&m.touched),o.xp6(1),o.Q6J("disabled",u.invalid),o.xp6(4),o.Q6J("routerLink",o.DdM(6,x))}},directives:[a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,p.O5,h.c,l.yS],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:20px}p[_ngcontent-%COMP%]{margin-top:10px}"]}),e})();function b(e){const r=e.value;return r!==r.toLowerCase()?{minusculo:!0}:null}const U=f.N.apiURL;let N=(()=>{class e{constructor(n){this.http=n}cadastraNovoUsuario(n){return this.http.post(`${U}/user/signup`,n)}verificaUsuarioExistente(n){return this.http.get(`${U}/user/exists/${n}`)}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(g.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var E=s(3900),y=s(4004),L=s(590);let Y=(()=>{class e{constructor(n,t){this.http=n,this.novoUsuarioService=t}usuarioJaExiste(){return n=>n.valueChanges.pipe((0,E.w)(t=>this.novoUsuarioService.verificaUsuarioExistente(t)),(0,y.U)(t=>t?{usuarioExistente:!0}:null),(0,L.P)())}}return e.\u0275fac=function(n){return new(n||e)(o.LFG(g.eN),o.LFG(N))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function O(e,r){1&e&&o._UZ(0,"app-mensagem",14)}function Q(e,r){1&e&&o._UZ(0,"app-mensagem",15)}function H(e,r){1&e&&o._UZ(0,"app-mensagem",16)}function P(e,r){1&e&&o._UZ(0,"app-mensagem",17)}function k(e,r){1&e&&o._UZ(0,"app-mensagem",18)}const q=function(){return[""]},G=[{path:"",component:F,children:[{path:"",component:J},{path:"novousuario",component:(()=>{class e{constructor(n,t,u,i){this.formBuilder=n,this.novoUsuarioService=t,this.usuarioExistenteService=u,this.router=i}ngOnInit(){this.novoUsuarioForm=this.formBuilder.group({fullName:["",[a.kI.required,a.kI.minLength(4)]],email:["",[a.kI.required,a.kI.email]],userName:["",[b],[this.usuarioExistenteService.usuarioJaExiste()]],password:[""]})}cadastrar(){if(this.novoUsuarioForm.valid){const n=this.novoUsuarioForm.getRawValue();this.novoUsuarioService.cadastraNovoUsuario(n).subscribe(()=>{this.router.navigate([""])},t=>{console.log(t)})}}}return e.\u0275fac=function(n){return new(n||e)(o.Y36(a.qu),o.Y36(N),o.Y36(Y),o.Y36(l.F0))},e.\u0275cmp=o.Xpm({type:e,selectors:[["app-novo-usuario"]],decls:22,vars:8,consts:[[1,"text-center"],[1,"form","mt-4",3,"formGroup","submit"],[1,"form-group"],["placeholder","Nome Completo","formControlName","fullName",1,"form-control"],["mensagem","Nome Incorreto",4,"ngIf"],["placeholder","E-mail","formControlName","email",1,"form-control"],["mensagem","E-mail Obrigat\xf3rio!!!",4,"ngIf"],["mensagem","E-mail no fomato incorreto",4,"ngIf"],["placeholder","Usu\xe1rio","formControlName","userName",1,"form-control"],["mensagem","usuario deve ser em letra min\xfascula",4,"ngIf"],["mensagem","Usuario j\xe1 extste",4,"ngIf"],["placeholder","Senha","type","password","formControlName","password",1,"form-control"],[1,"btn","btn-success","btn-block","col-12"],[3,"routerLink"],["mensagem","Nome Incorreto"],["mensagem","E-mail Obrigat\xf3rio!!!"],["mensagem","E-mail no fomato incorreto"],["mensagem","usuario deve ser em letra min\xfascula"],["mensagem","Usuario j\xe1 extste"]],template:function(n,t){if(1&n&&(o.TgZ(0,"h4",0),o._uU(1,"Registre-se Aqui"),o.qZA(),o.TgZ(2,"form",1),o.NdJ("submit",function(){return t.cadastrar()}),o.TgZ(3,"div",2),o._UZ(4,"input",3),o.YNc(5,O,1,0,"app-mensagem",4),o.qZA(),o.TgZ(6,"div",2),o._UZ(7,"input",5),o.qZA(),o.YNc(8,Q,1,0,"app-mensagem",6),o.YNc(9,H,1,0,"app-mensagem",7),o.TgZ(10,"div",2),o._UZ(11,"input",8),o.YNc(12,P,1,0,"app-mensagem",9),o.YNc(13,k,1,0,"app-mensagem",10),o.qZA(),o.TgZ(14,"div",2),o._UZ(15,"input",11),o.qZA(),o.TgZ(16,"button",12),o._uU(17,"Cadastrar"),o.qZA()(),o.TgZ(18,"p"),o._uU(19,"J\xe1 est\xe1 cadastrado? "),o.TgZ(20,"a",13),o._uU(21,"Login!"),o.qZA()()),2&n){let u,i,m,c,v;o.xp6(2),o.Q6J("formGroup",t.novoUsuarioForm),o.xp6(3),o.Q6J("ngIf",(null==(u=t.novoUsuarioForm.get("fullName"))?null:u.errors)&&(null==(u=t.novoUsuarioForm.get("fullName"))?null:u.touched)),o.xp6(3),o.Q6J("ngIf",(null==(i=t.novoUsuarioForm.get("email"))||null==i.errors?null:i.errors.required)&&(null==(i=t.novoUsuarioForm.get("email"))?null:i.touched)),o.xp6(1),o.Q6J("ngIf",(null==(m=t.novoUsuarioForm.get("email"))||null==m.errors?null:m.errors.email)&&(null==(m=t.novoUsuarioForm.get("email"))?null:m.touched)),o.xp6(3),o.Q6J("ngIf",(null==(c=t.novoUsuarioForm.get("userName"))||null==c.errors?null:c.errors.minusculo)&&(null==(c=t.novoUsuarioForm.get("userName"))?null:c.touched)),o.xp6(1),o.Q6J("ngIf",null==(v=t.novoUsuarioForm.get("userName"))||null==v.errors?null:v.errors.usuarioExistente),o.xp6(7),o.Q6J("routerLink",o.DdM(7,q))}},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,p.O5,h.c,l.yS],styles:["input[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{margin-top:20px}p[_ngcontent-%COMP%]{margin-top:10px}"]}),e})()}]}];let j=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[l.Bz.forChild(G)],l.Bz]}),e})(),R=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=o.oAB({type:e}),e.\u0275inj=o.cJS({imports:[[p.ez,j,a.u5,C.m,Z.Z]]}),e})()}}]);